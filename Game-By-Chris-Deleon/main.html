<!Doctype>
<html>
  <head>
    <title>Game-Ke-Do</title>

    <meta charset='utf-8'>

  </head>

  <body>
      some text here

      <canvas id='gameCanvas' width='800' height='600'></canvas>
    <script>
        var canvas,canvasContext;
        var ballX=0;
        var ballSpeedX=5;
        var ballY=5;
        var ballSpeedY=5;

        var Paddle1Y=250;

        var Paddle2Y=250;

        const PADDLE_HEIGHT=100;
        const PADDLE_THICKNESS=10;

        function CalculateMousePos(evt){

          var rect=canvas.getBoundingClientRect();

          var root=document.documentElement;

          var mouseX=evt.clientX - rect.left - root.scrollLeft;
          //scrollLeft get the number of pixel the content of a element is crolled horizontally

          var mouseY=evt.clientY - rect.top - root.scrollTop;
          //scrollTop get the number of pixel the content of a element is crolled vertically

              return{
                x:mouseX,
                y:mouseY
              }

        }
        window.onload=function(){
          canvas=document.getElementById('gameCanvas')
          canvasContext=canvas.getContext('2d')
          var FramesPerSecond=30;

          setInterval(callBoth,1000/FramesPerSecond)

          canvas.addEventListener('mousemove',function(evt){

            var mousePos=CalculateMousePos(evt);
            Paddle1Y=mousePos.y-(PADDLE_HEIGHT/2);
            Paddle2Y=mousePos.x-(PADDLE_HEIGHT/2)
          })
        }

        function callBoth(){
          drawEverything()
          moveEverything()
        }


        function ballReset(){
          ballSpeedX=-ballSpeedX
          ballX=canvas.width/2
          ballY=canvas.height/2
        }


        function moveEverything(){
          ballX=ballX+ballSpeedX;

          if(ballX>canvas.width){
          //  ballSpeedX=-ballSpeedX;
            if(ballY>Paddle2Y&&ballY<Paddle2Y+PADDLE_HEIGHT){
              ballSpeedX=-ballSpeedX
            }
            else{
              ballReset()

            }
                    }
        if(ballX<9) {
            //ballSpeedX=-(ballSpeedX);
            if(ballY>Paddle1Y&&ballY<Paddle1Y+PADDLE_HEIGHT){
              ballSpeedX=-ballSpeedX
            }
            else{
              ballReset()

            }

            }


          ballY=ballY+ballSpeedY;

          if(ballY>canvas.height){
            ballSpeedY=-ballSpeedY;
          }


          if(ballY<0) {
            ballSpeedY=-(ballSpeedY);
            }
        }
        function drawEverything(){
            //next line blanks out the screen   with black
            colorRect(0,0,canvas.width,canvas.height,'black')

            //this is left player paddle
            colorRect(0,Paddle1Y,PADDLE_THICKNESS,PADDLE_HEIGHT,'white')

            //this is right computer paddle
            colorRect(canvas.width-PADDLE_THICKNESS,Paddle2Y,PADDLE_THICKNESS,PADDLE_HEIGHT,'white')

            //next line draw the ball
            colorcircle(ballX,ballY,10,'white')
        }

        function colorcircle(leftX,topY,radius,drawcircle){
          canvasContext.fillStyle=drawcircle;
          canvasContext.beginPath();
          canvasContext.arc(leftX,topY,radius,0,2*Math.PI,true)
          canvasContext.fill()

        }
        function colorRect(leftX,topY,RectX,RectY,drawcolor){
          canvasContext.fillStyle=drawcolor;
          canvasContext.fillRect(leftX,topY,RectX,RectY)

        }
    </script>
  </body>
</html>
